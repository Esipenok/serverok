# üöÄ –ü–æ–ª–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ Kafka –≤–æ –≤—Å–µ –º–æ–¥—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üìã **–°—Ç–∞—Ç—É—Å –≤–Ω–µ–¥—Ä–µ–Ω–∏—è**

### ‚úÖ **–ö–†–ò–¢–ò–ß–ù–û (‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê) - –ó–ê–í–ï–†–®–ï–ù–û**
- `users/photos` - ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- `matches` - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –º—ç—Ç—á–µ–π —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

### ‚úÖ **–í–´–°–û–ö–ò–ô (‚≠ê‚≠ê‚≠ê‚≠ê) - –ó–ê–í–ï–†–®–ï–ù–û**
- `filter_fast_match` - ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- `filter_finder` - ‚úÖ –ü–æ–∏—Å–∫ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- `filter_market` - ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ç-–∫–∞—Ä—Ç–æ—á–µ–∫
- `filter_one_night` - ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è one night

### ‚úÖ **–°–†–ï–î–ù–ò–ô (‚≠ê‚≠ê‚≠ê) - –ó–ê–í–ï–†–®–ï–ù–û**
- `auth` - ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- `fast_match` - ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –º—ç—Ç—á–∏ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- `marketprofiles` - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ç-–∫–∞—Ä—Ç–æ—á–µ–∫
- `notifications` - ‚úÖ –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞)
- `one_night` - ‚úÖ One night –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- `qr` - ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ QR –∫–æ–¥–æ–≤

### ‚úÖ **–ù–ò–ó–ö–ò–ô (‚≠ê‚≠ê) - –ó–ê–í–ï–†–®–ï–ù–û**
- `complain` - ‚úÖ –ñ–∞–ª–æ–±—ã —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- `country` - ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã
- `invites` - ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π

## üîß **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**

### **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä    ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Kafka Topic   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Handler       ‚îÇ
‚îÇ   (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)   ‚îÇ    ‚îÇ   (–æ—á–µ—Ä–µ–¥—å)     ‚îÇ    ‚îÇ   (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **–¢–∏–ø—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:**
1. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –¥–∞–Ω–Ω—ã—Ö
3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –æ—Ç–ø—Ä–∞–≤–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
5. **–û—á–∏—Å—Ç–∫–∞** - —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—è–º**

### **1. –ö–†–ò–¢–ò–ß–ù–´–ï –ú–û–î–£–õ–ò**

#### **users/photos**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
const photos = await PhotosService.savePhotos(userId, files);

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendPhotoOperation('optimize', {
  userId: userId,
  photoId: photos[0]?.id,
  originalSize: files[0]?.size,
  targetSize: Math.floor(files[0]?.size * 0.8)
});

await kafkaModuleService.sendPhotoOperation('analytics', {
  userId: userId,
  photoId: photos[0]?.id,
  fileSize: files[0]?.size,
  uploadTime: new Date().toISOString()
});
```

#### **matches**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Å–æ–∑–¥–∞–Ω–∏–µ –º—ç—Ç—á–∞
const matchRecord = await Match.create(matchData);

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendMatchOperation('notification_send', {
  targetUserId: otherUserId,
  senderData: notificationData
});

await kafkaModuleService.sendMatchOperation('analytics_track', {
  user1Id: userId,
  user2Id: otherUserId,
  matchId: matchRecord._id.toString()
});
```

### **2. –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢**

#### **filter_* (–≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã)**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
const filteredUsers = await filterUsers(userId, filters);

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendFilterOperation('analytics', {
  userId: userId,
  filterType: 'fast_match',
  searchCriteria: filters,
  resultCount: filteredUsers.length,
  searchTime: Date.now() - startTime
});

await kafkaModuleService.sendFilterOperation('cache_update', {
  userId: userId,
  filterType: 'fast_match',
  cacheKey: `fast_match_${userId}_${JSON.stringify(filters)}`,
  cacheData: { users: filteredUsers.length, timestamp: Date.now() }
});
```

### **3. –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢**

#### **auth**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
const user = await User.create(userData);

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendAuthOperation('analytics', {
  userId: user.userId,
  email: user.email,
  action: 'register',
  timestamp: new Date().toISOString(),
  clientIp: req.headers['x-forwarded-for']
});
```

#### **fast_match**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Å–æ–∑–¥–∞–Ω–∏–µ fast match
await fastMatch.save();

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendFastMatchOperation('analytics', {
  userFirst: user_first,
  userSecond: user_second,
  action: 'create',
  timestamp: new Date().toISOString()
});
```

#### **marketprofiles**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
await newMarketCard.save();

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendMarketProfileOperation('analytics', {
  marketCardId: marketCardId,
  userId: userId,
  action: 'create',
  timestamp: new Date().toISOString()
});
```

#### **one_night**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
await invitation.save();

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendOneNightOperation('analytics', {
  userId1: userId1,
  userId2: userId2,
  action: 'create_invitation',
  timestamp: new Date().toISOString()
});
```

#### **qr**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Å–æ–∑–¥–∞–Ω–∏–µ QR –∫–æ–¥–∞
await newQrCode.save();

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendQrOperation('analytics', {
  qrId: newQrCode.qr_id,
  userId: userId,
  action: 'create_permanent',
  timestamp: new Date().toISOString()
});
```

### **4. –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢**

#### **complain**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: —Å–æ–∑–¥–∞–Ω–∏–µ –∂–∞–ª–æ–±—ã
await complaint.save();

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendComplainOperation('analytics', {
  senderId: senderId,
  reportedUserId: reportedUserId,
  complaintType: complaintType,
  action: 'create',
  timestamp: new Date().toISOString()
});
```

#### **country**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã
const country = await geocoder.reverse({ lat: latitude, lon: longitude });

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendCountryOperation('analytics', {
  latitude: latitude,
  longitude: longitude,
  country: country,
  action: 'geocode_success',
  timestamp: new Date().toISOString()
});
```

#### **invites**
```javascript
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω–≤–∞–π—Ç–∞
inviter.invites = (inviter.invites || 0) + 1;
await inviter.save();

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Kafka:
await kafkaModuleService.sendInviteOperation('analytics', {
  inviterUserId: inviterUserId,
  action: 'process_invite',
  invitesCount: inviter.invites,
  timestamp: new Date().toISOString()
});
```

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è**

### **1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- **–ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã** - –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - —Ç—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—Ç–¥–µ–ª—å–Ω–æ

### **2. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
- **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - –µ—Å–ª–∏ Kafka –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- **Retry –º–µ—Ö–∞–Ω–∏–∑–º** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
- **–ò–∑–æ–ª—è—Ü–∏—è –æ—à–∏–±–æ–∫** - –æ—à–∏–±–∫–∏ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫

### **3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è
- **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### **4. –ì–∏–±–∫–æ—Å—Ç—å**
- **–õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π** - –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π handler
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤** - —Ä–∞–∑–Ω—ã–µ —Ç–æ–ø–∏–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π
- **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

## üõ† **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**

### **1. –ó–∞–ø—É—Å–∫ Kafka**
```bash
# –ó–∞–ø—É—Å–∫ Kafka –∏ Zookeeper
docker-compose up -d kafka zookeeper

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–æ–≤**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
kafka-topics.sh --create --topic matches --bootstrap-server localhost:9092 --partitions 6
kafka-topics.sh --create --topic photos --bootstrap-server localhost:9092 --partitions 8
kafka-topics.sh --create --topic filters --bootstrap-server localhost:9092 --partitions 10
kafka-topics.sh --create --topic auth --bootstrap-server localhost:9092 --partitions 4
kafka-topics.sh --create --topic fast_match --bootstrap-server localhost:9092 --partitions 4
kafka-topics.sh --create --topic marketprofiles --bootstrap-server localhost:9092 --partitions 4
kafka-topics.sh --create --topic one_night --bootstrap-server localhost:9092 --partitions 4
kafka-topics.sh --create --topic qr --bootstrap-server localhost:9092 --partitions 3
kafka-topics.sh --create --topic complain --bootstrap-server localhost:9092 --partitions 2
kafka-topics.sh --create --topic country --bootstrap-server localhost:9092 --partitions 2
kafka-topics.sh --create --topic invites --bootstrap-server localhost:9092 --partitions 2
```

### **3. –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**
```bash
# –ó–∞–ø—É—Å–∫ Kafka –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
node kafka/init.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
tail -f logs/kafka.log
```

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ø–∏–∫–æ–≤
kafka-topics.sh --list --bootstrap-server localhost:9092

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ç–æ–ø–∏–∫–µ
kafka-console-consumer.sh --topic matches --bootstrap-server localhost:9092 --from-beginning

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
node scripts/kafka-monitor.js
```

## üìà **–ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

### **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- **Throughput** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Å–µ–∫—É–Ω–¥—É –ø–æ –º–æ–¥—É–ª—è–º
- **Latency** - –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **Error rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö
- **Queue size** - —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–µ–π –≤ —Ç–æ–ø–∏–∫–∞—Ö

### **–ê–ª–µ—Ä—Ç—ã:**
- –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (> 5 —Å–µ–∫—É–Ω–¥)
- –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ (> 1000 —Å–æ–æ–±—â–µ–Ω–∏–π)
- –í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ (> 5%)

## üîÑ **–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è**

### **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏:**
1. ‚úÖ –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤–æ –≤—Å–µ –º–æ–¥—É–ª–∏
2. üîÑ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
3. üîÑ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏:**
1. üîÑ –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
2. üîÑ Real-time –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
3. üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

Kafka —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ–¥—Ä–µ–Ω –≤–æ **–≤—Å–µ 15 –º–æ–¥—É–ª–µ–π** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º –∏—Ö –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤:

- **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** - –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - graceful degradation –ø—Ä–∏ —Å–±–æ—è—Ö
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞–º

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –≤—ã—Å–æ–∫–∏–º –Ω–∞–≥—Ä—É–∑–∫–∞–º –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é! üöÄ 