# Willowe Dating App

Серверное приложение для dating app с модульной архитектурой.

## Структура проекта

```
src/
├── core/                    # Общая инфраструктура
│   ├── config/             # Конфигурации приложения
│   ├── middleware/         # Общие middleware
│   ├── utils/              # Утилиты
│   └── security/           # Безопасность
├── modules/                # Бизнес-модули
│   ├── auth/               # Аутентификация и авторизация
│   ├── users/              # Управление пользователями
│   ├── matches/            # Система мэтчей
│   ├── photos/             # Управление фотографиями
│   ├── filters/            # Система фильтров
│   │   ├── filter_fast_match/
│   │   ├── filter_finder/
│   │   ├── filter_market/
│   │   └── filter_one_night/
│   ├── fast-match/         # Быстрые мэтчи
│   ├── one-night/          # На одну ночь
│   ├── market/             # Маркет профили
│   ├── notifications/      # Уведомления
│   └── support/            # Поддержка
│       ├── complain/       # Жалобы
│       ├── invites/        # Приглашения
│       ├── qr/             # QR коды
│       ├── country/        # Определение страны
│       └── delete_all_data/ # Удаление данных
├── infrastructure/         # Внешние сервисы
│   ├── kafka/              # Kafka интеграция
│   ├── monitoring/         # Мониторинг (grafana, prometheus)
│   └── storage/            # Файловое хранилище
├── app.js                  # Основное приложение
└── server.js               # Точка входа сервера
```

## Приоритеты модулей

### Критичные (⭐⭐⭐⭐⭐)
- `users/photos` - Загрузка/отображение фотографий
- `matches` - Создание/удаление мэтчей

### Высокий (⭐⭐⭐⭐)
- `filters/*` - Все фильтры для поиска

### Средний (⭐⭐⭐)
- `auth` - Аутентификация
- `fast-match` - Быстрые мэтчи
- `market` - Маркет профили
- `notifications` - Уведомления
- `one-night` - На одну ночь

### Низкий (⭐⭐)
- `support/*` - Модули поддержки

## Преимущества новой структуры

- **Масштабируемость**: Легко добавлять новые модули
- **Читаемость**: Понятная структура для новых разработчиков
- **Переиспользование**: Общие компоненты в core
- **Тестирование**: Изолированные модули легче тестировать
- **Deployment**: Можно деплоить модули отдельно

## Мониторинг

Проект включает систему мониторинга:
- **Prometheus** - метрики
- **Grafana** - дашборды
- **Kafka** - обработка событий

## Безопасность

- JWT токены
- Rate limiting
- Защита от инъекций
- HTTPS редирект
- Helmet middleware 