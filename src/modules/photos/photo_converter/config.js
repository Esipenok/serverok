/**
 * Конфигурация для конвертера фотографий
 */

module.exports = {
  // Настройки для разных типов изображений
  imageTypes: {
    profile: {
      width: 800,       // Оптимальная ширина для фото профиля
      quality: 85,      // Высокое качество для профиля
      effort: 5         // Уровень сжатия (0-6)
    },
    gallery: {
      width: 1200,      // Стандартная ширина для галереи
      quality: 80,      // Среднее качество
      effort: 4         // Уровень сжатия (0-6)
    },
    thumbnail: {
      width: 300,       // Маленькая ширина для миниатюр
      quality: 75,      // Более низкое качество для миниатюр
      effort: 3         // Уровень сжатия (0-6)
    },
    chat: {
      width: 600,       // Средняя ширина для чатов
      quality: 70,      // Более низкое качество для быстрой загрузки
      effort: 3         // Уровень сжатия (0-6)
    }
  },
  
  // Настройки для временных файлов
  tempDir: 'uploads/temp',
  
  // Максимальные размеры изображений
  maxWidth: 2000,       // Максимальная ширина для любого изображения
  maxHeight: 2000,      // Максимальная высота для любого изображения
  
  // Поддерживаемые форматы входных файлов
  supportedInputFormats: [
    'jpg', 'jpeg', 'png', 'gif', 'webp', 'heic', 'heif'
  ],
  
  // Настройки WebP
  webp: {
    lossless: false,    // Использовать сжатие с потерями
    nearLossless: false, // Не использовать почти безпотерьное сжатие
    smartSubsample: true, // Умное сэмплирование цвета
    alphaQuality: 100,   // Качество альфа-канала
    reductionEffort: 4   // Уровень усилий по уменьшению размера (0-6)
  }
}; 